"use strict";var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||false;s.configurable=true;if("value"in s)s.writable=true;Object.defineProperty(e,s.key,s)}}return function(t,i,s){if(i)e(t.prototype,i);if(s)e(t,s);return t}}();function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var defaults={elements:"h1, h2, h3, h4, h5, h6, p",pattern:/[\t\n.!?]+$/,replace:", Bitch!",active:false,hash:"bitch",keyword:"bitch"};var Bitchify=function(){function e(t,i){_classCallCheck(this,e);this.options=Object.assign({},defaults,t);this.active=this.options.active;if(i&&typeof i==="function"){this.callback=i}if(this.active||this._isHash()){this.render()}else{this._addKeyPress()}}_createClass(e,[{key:"render",value:function e(){if(this.active){return}this.active=true;var t=document.querySelectorAll(this.options.elements);var i=true;var s=false;var n=undefined;try{for(var r=t[Symbol.iterator](),a;!(i=(a=r.next()).done);i=true){var h=a.value;h.innerHTML=this._replace(h.innerHTML)}}catch(e){s=true;n=e}finally{try{if(!i&&r.return){r.return()}}finally{if(s){throw n}}}if(this.callback){this.callback()}}},{key:"_replace",value:function e(t){t=t.trim().replace(this.options.pattern,"");return this.options.before?this.options.replace+t:t+this.options.replace}},{key:"_isHash",value:function e(){return this.options.hash&&this._stripHash(window.location.hash)===this._stripHash(this.options.hash)}},{key:"_stripHash",value:function e(t){return t.replace(/^#/,"")}},{key:"_addKeyPress",value:function e(){if(this.options.keyword){this.keylog=[];this.keyword=this.options.keyword;this._onBitchify=this._onBitchify.bind(this);document.addEventListener("keypress",this._onBitchify)}}},{key:"_onBitchify",value:function e(t){if(this._validateKey(t.key)){this.render()}if(this.active){document.removeEventListener("keypress",this._onBitchify)}}},{key:"_validateKey",value:function e(t){this.keylog.push(t);if(this.keylog.length>this.keyword.length){this.keylog.shift()}return this.keylog.join("")===this.keyword}}]);return e}();