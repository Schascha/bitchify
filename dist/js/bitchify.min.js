"use strict";function _createForOfIteratorHelper(t,e){var r;if(typeof Symbol==="undefined"||t[Symbol.iterator]==null){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var n=0;var i=function e(){};return{s:i,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,s=false,o;return{s:function e(){r=t[Symbol.iterator]()},n:function e(){var t=r.next();a=t.done;return t},e:function e(t){s=true;o=t},f:function e(){try{if(!a&&r.return!=null)r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(!e)return;if(typeof e==="string")return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(e,t)}function _arrayLikeToArray(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){if(t)_defineProperties(e.prototype,t);if(r)_defineProperties(e,r);return e}var defaults={elements:"h1, h2, h3, h4, h5, h6, p",pattern:/[\t\n.!?]+$/,replace:", Bitch!",before:false,active:false,hash:"bitch",keyword:"bitch"};var Bitchify=function(){function r(e,t){_classCallCheck(this,r);this.options=Object.assign({},defaults,e);this.active=this.options.active||false;if(t&&typeof t==="function"){this.callback=t}if(this.active||this._isHash()){this.render()}else{this._addKeypress();this._addHashchange()}}_createClass(r,[{key:"render",value:function e(){if(this.active){return}this.active=true;var t=document.querySelectorAll(this.options.elements);var r=_createForOfIteratorHelper(t),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;i.innerHTML=this._replace(i.innerHTML)}}catch(e){r.e(e)}finally{r.f()}document.removeEventListener("keypress",this._onKeypress);window.removeEventListener("hashchange",this._onHashchange);if(this.callback){this.callback()}return this}},{key:"_replace",value:function e(t){t=t.trim().replace(this.options.pattern,"");return this.options.before?this.options.replace+t:t+this.options.replace}},{key:"_isHash",value:function e(){return this.options.hash&&this._stripHash(window.location.hash)===this._stripHash(this.options.hash)}},{key:"_stripHash",value:function e(t){return t.replace(/^#/,"")}},{key:"_addKeypress",value:function e(){if(this.options.keyword){this.keylog=[];this.keyword=this.options.keyword;this._onKeypress=this._onKeypress.bind(this);document.addEventListener("keypress",this._onKeypress)}}},{key:"_addHashchange",value:function e(){if(this.options.hash){this._onHashchange=this._onHashchange.bind(this);window.addEventListener("hashchange",this._onHashchange)}}},{key:"_validateKey",value:function e(t){this.keylog.push(t);if(this.keylog.length>this.keyword.length){this.keylog.shift()}return this.keylog.join("")===this.keyword}},{key:"_onKeypress",value:function e(t){if(this._validateKey(t.key)){this.render()}}},{key:"_onHashchange",value:function e(){if(this._isHash()){this.render()}}}]);return r}();